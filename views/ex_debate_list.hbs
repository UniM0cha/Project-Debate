<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3'
      crossorigin='anonymous'
    />
    <link rel='stylesheet' href='/css/ex_debate_list.css' />
    <title>이전 주제 리스트 페이지</title>
  </head>

  <script>
      let isLogined = {{isLogined}};
      console.log(isLogined);
  </script>

  <body>
    <!-- 상단 메뉴 바 -->
    <div class="menu">
      <div class="inner-menu">
      <div class="div-ex-debatelist">
        <form class='form-ex-debatelist' action='/list'>
          <button type='submit' class='btn-ex-debatelist'>
            이전 리스트
          </button>
        </form>
      </div>

      <div class="div-title">
        <a class='title' href='#'>토론 사이트</a>
      </div>

      <div class="div-login">
        <form class='form-login expand' action='/auth'>
          <button type='submit' class='btn-login'>로그인</button>
        </form>
        <form class='form-logout expand' action='/auth/logout'>
          <button type='submit' class='btn-login'>로그아웃</button>
        </form>
      </div>
      </div>
    </div>

    <!-- 게시판 -->
    {{!-- 최대값 --}}
    {{topicReserveCount}} 
    {{!-- 페이지 수 --}}
    {{topicReservePageCount}}
    <!--수정중-->
    {{#each arr1}}
      {{#each TopicReserve}}
        {{reserveId}}
      {{/each}}
    {{/each}}
    {{arr1.TopicReserve.reserveId}}
    <!--수정중-->
    <table class='table table-striped topic-list'>
      <thead>
        <tr>
          <th>번호</th>
          <th>주제</th>
          <th>날짜</th>
          <th>끝난 날짜</th>
        </tr>
      </thead>

      <tbody class="list-body">
      {{#if arr1}}
        {{#each arr1}}
          <tr>
            <td>{{reserveId}}</a></td>
            <td style="width: 60%; text-overflow: ellipsis;"><a href="/list/view/{{reserveId}}">{{topic.topicName}}</a></td>
            <td>{{dateFormat startDate "YY.MM.DD"}}</td>
            <td>{{dateFormat endDate "YY.MM.DD"}}</td>
          </tr>
        {{/each}}
      {{else}}
        <tr>
          <td colspan="5" align="center">데이터가 없습니다.</td>
        </tr>
      {{/if}}
      </tbody>

    </table>
    <h1>주제 예약 목록</h1>

    <table border="1">
      <th>예약 번호</th>
      <th>주제</th>
      <th>시작 날짜</th>
      <th>끝난 날짜</th>
      
      {{#if arr1}}
        {{#each arr1}}
        
          <tr>
            <td align="center"><a href="/admin/reserve/{{reserveId}}">{{reserveId}}</a></td>
            <td>{{topic.topicName}}</td>
            <td>{{dateFormat reserveDate "YY.MM.DD"}}</td>
            <td>{{dateFormat reserveEndDate "YY.MM.DD"}}</td>
          </tr>
        {{/each}}
        
      {{else}}
        <tr>
          <td colspan="5" align="center">데이터가 없습니다.</td>
        </tr>
      {{/if}}
    </table>
  
    <p/>

    <!-- 페이지 이동 버튼 -->
    <nav aria-label='Page navigation example pagemove'>
      <ul class='pagination justify-content-center'>
        <li class='page-item'>
          <a class='page-link' href='#' aria-label='Previous'>
            <span aria-hidden='true'>&laquo;</span>
          </a>
        </li>
        <li class='page-item'><a class='page-link' href='#'>1</a></li>
        <li class='page-item'><a class='page-link' href='#'>2</a></li>
        <li class='page-item'><a class='page-link' href='#'>3</a></li>
        <li class='page-item'>
          <a class='page-link' href='#' aria-label='Next'>
            <span aria-hidden='true'>&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>

  </body>
  <script src="/js/login.js"></script>
</html>